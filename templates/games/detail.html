{% extends 'base.html' %}
{% load static %}

{% block title %}{{ game.title }} - –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ò–≥—Ä{% endblock %}

{% block content %}
<div class="detail-container">
    <div class="detail-header">
        <h1>{{ game.title }}</h1>
        <p class="game-year-large">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: {{ game.release_year }}</p>
    </div>

    <div class="detail-content">
        <div class="detail-image">
            {% if game.cover %}
                <img src="{{ game.cover.url }}" alt="{{ game.title }}">
            {% else %}
                <div class="game-placeholder-large">
                    <span>üéÆ</span>
                </div>
            {% endif %}
        </div>

        <div class="detail-info">
            <div class="info-section">
                <h2>üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</h2>
                <p>{{ game.description }}</p>
            </div>

            <div class="info-section">
                <h2>üè¢ –°—Ç—É–¥–∏—è</h2>
                <p><strong>{{ game.studio.name }}</strong></p>
                <p>–°—Ç—Ä–∞–Ω–∞: {{ game.studio.country }}</p>
                <p>–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è: {{ game.studio.year_founded }}</p>
            </div>

            {% if game.engine %}
                <div class="info-section">
                    <h2>‚öôÔ∏è –ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫</h2>
                    <p>{{ game.engine.name }}</p>
                </div>
            {% endif %}

            {% if game.platforms.all %}
                <div class="info-section">
                    <h2>üéØ –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
                    <div class="platforms-list">
                        {% for platform in game.platforms.all %}
                            <span class="platform-badge-large">{{ platform.name }}</span>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}

            <div class="info-section metadata">
                <p><small>–î–æ–±–∞–≤–ª–µ–Ω–æ: {{ game.created_at|date:"d.m.Y H:i" }}</small></p>
                <p><small>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ game.updated_at|date:"d.m.Y H:i" }}</small></p>
            </div>
        </div>
    </div>

    <div class="action-buttons">
        <a href="{% url 'index' %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
        {% if user.is_authenticated %}
            <a href="{% url 'game_update' game.id %}" class="btn btn-primary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <a href="{% url 'game_delete' game.id %}" class="btn btn-danger">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
        {% endif %}
        <a href="/api/games/{{ game.id }}/" class="btn btn-info" target="_blank">üìä API JSON</a>
    </div>
</div>
{% endblock %}

